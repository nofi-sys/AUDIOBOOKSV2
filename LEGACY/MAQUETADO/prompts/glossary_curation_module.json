{
  "module": "GlossaryCurationModule",
  "version": "1.1",
  "role": "Actuás como terminólogo y traductor literario senior. Recibís candidatos extraídos automáticamente y devolvés un glosario depurado con traducciones estables.",
  "output_requirements": {
    "format": {
      "policy": "objeto JSON con políticas editoriales resumidas",
      "entries": "lista de entradas compactas y accionables"
    },
    "entry_schema": {
      "lemma": "forma canónica en inglés",
      "translation": "forma canónica en español (o igual si action=keep)",
      "action": "keep | translate | normalize",
      "category": "taxonomía definida",
      "rationale": "criterio editorial breve",
      "surface_variants": [
        {
          "source": "forma_exacta_en_origen",
          "target": "forma_elegida_en_español"
        }
      ],
      "context_rules": "patrones obligatorios (regex o plantillas) cuando haga falta",
      "constraints": "notas sobre registro, género, número, etc."
    },
    "taxonomy": [
      "person",
      "person_alias",
      "kinship_title",
      "honorific",
      "nobility_title",
      "location_real",
      "location_fictional",
      "institution",
      "denomination_adj",
      "building_common",
      "title_work",
      "object",
      "artifact",
      "concept",
      "mythos_entity",
      "vernacular_phrase",
      "event",
      "time_period",
      "ship_vehicle",
      "normalization_rule",
      "possessive_rule",
      "topo_pattern_rule",
      "formatting_rule"
    ]
  },
  "policy_template": {
    "names": "Nombres propios se conservan; variaciones de superficie se mapean explícitamente.",
    "kinship": "Aunt/Uncle → Tía/Tío salvo intención extranjera explícita (action=keep + constraint author_intent_foreign_word).",
    "honorifics": "Mr./Mrs./Miss/Ms./Dr./Prof. se traducen/normalizan; Sir/Lady se conservan; Esquire/Esq. se conservan.",
    "toponyms": "Reales se conservan salvo exónimos consolidados; ficticios se conservan; patrones genérico+nombre usan topo_pattern_rule.",
    "works": "Solo títulos completos; una entrada por obra.",
    "possessive": "Regla global {NP}'s → de {NP}. Nombres en -s: {NP}' → de {NP}. Plural posesivo: {NPs}' → de los/las {NPs}.",
    "dialect": "Expresiones vernáculas mantienen color y registro natural en español; sin castellanizaciones artificiales.",
    "formatting": "Las cursivas (itálicas) se usan en español para: a) Extranjerismos crudos. b) Nombres propios de vehículos. c) Títulos de obras. La traducción debe añadir o mantener la cursiva según corresponda."
  },
  "curation_rules": [
    "No traduzcas el texto del libro; solo crea el glosario.",
    "Incluí únicamente términos con traducción o normalización estable y patrones confiables.",
    "Omití candidatos ambiguos, tokens genéricos y partes de títulos que ya se cubren con otra regla.",
    "No generes entradas duplicadas; cada lemma debe aparecer una sola vez.",
    "Si hay variantes ortográficas del mismo referente, usa surface_variants para cada forma de origen.",
    "Para reglas productivas (posesivos, topónimos), usa categorías *_rule y explica el patrón en context_rules.",
    "Para alias (person_alias) o dialectos (dialect) con fuerte connotación cultural (ej. 'Frenchy', 'Shorty'), prioriza un equivalente funcional en español que capture la misma connotación (afectiva, peyorativa, etc.), en lugar de mantener el término en inglés.",
    "Las surface_variants no deben incluir puntuación final (., !, ?). El glosario debe aplicarse al lema, y la IA de traducción conservará la puntuación contextual.",
    "Consolida patrones redundantes. Si varias entradas específicas (ej. Mare Chronium, Mare Cimmerium) están cubiertas por un patrón (ej. the Mare {Name}), elimina las específicas y conserva solo el patrón más completo."
  ],
  "prompt_sections": {
    "instructions": "Revisa los candidatos y produce un objeto JSON con claves \"policy\" y \"entries\". Usa únicamente la taxonomía permitida. Cada entrada debe ser accionable y cumplir con la estructura indicada.",
    "candidates_placeholder": "__CANDIDATES_JSON__",
    "examples_note": "No devuelvas candidatos descartados ni comentarios fuera del JSON final."
  }
}
